<div id="article-bg" class="bl" background-image='/assets/images/archive.jpg' ng-style="bgimagestyle()"></div>
<div id="credit"><a href="https://www.flickr.com/photos/clemsonunivlibrary/">Background image by clemsonunivlibrary</a></div>
<section id="post-archive">
    <h1>All Posts</h1>

    <div class="archives">
        $posts$
    </div>
</section>

<script src="/bower_components/ScrollToFixed/jquery-scrolltofixed-min.js"></script>
<script type="text/javascript">
    if (!Modernizr.touch) {
        $$(document).ready(function () {
            var yearHeaders = $$('h2.year');
            yearHeaders.each(function (i) {
                var yearHeader = $$(yearHeaders[i]);
                var next = yearHeaders[i + 1];

                yearHeader.scrollToFixed({
                    marginTop: 8,
                    limit: function () {
                        var limit = 0;
                        if (next) {
                            limit = $$(next).offset().top - $$(this).outerHeight(true) - 8;
                        }
                        return limit;
                    },
                    zIndex: 1
                })
            })
        });
    }
</script>

